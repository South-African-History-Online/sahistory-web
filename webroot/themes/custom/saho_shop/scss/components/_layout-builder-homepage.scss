// =============================================================================
// Layout Builder Homepage Styling
// SAHO Shop - Professional multi-section homepage
// =============================================================================

.layout-builder__layout {
  // ---------------------------------------------------------------------------
  // Section 1: Hero Banner
  // ---------------------------------------------------------------------------
  > .layout.layout--onecol:first-child {
    background: linear-gradient(135deg, #1a5490 0%, #2a6ab0 100%);
    color: #fff;
    padding: 3rem 1rem;
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;

    @media (width >= 768px) {
      padding: 5rem 2rem;
    }

    @media (width >= 1200px) {
      padding: 6rem 2rem;
    }

    // Optional: Add subtle pattern overlay
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 1;
      z-index: 0;
    }

    // Hero content wrapper
    .layout__region {
      position: relative;
      z-index: 1;
    }

    // Hero block styling
    .block-inline-blockhero {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;

      // Heading
      h1,
      .field--name-field-heading {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
        text-shadow: 0 2px 4px rgb(0 0 0 / 10%);

        @media (width >= 768px) {
          font-size: 2.5rem;
        }

        @media (width >= 1200px) {
          font-size: 3rem;
        }
      }

      // Description text
      .field--name-field-description {
        font-size: 1rem;
        line-height: 1.6;
        opacity: 0.95;
        margin-bottom: 0;

        @media (width >= 768px) {
          font-size: 1.125rem;
          line-height: 1.7;
        }

        @media (width >= 1200px) {
          font-size: 1.25rem;
        }

        p {
          margin-bottom: 1rem;

          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }
  }

  // ---------------------------------------------------------------------------
  // Section 2: Featured Products
  // ---------------------------------------------------------------------------
  .layout.layout--onecol:nth-child(2) {
    padding: 2rem 1rem;
    background: #fff;

    @media (width >= 768px) {
      padding: 3rem 1.5rem;
    }

    @media (width >= 1200px) {
      padding: 4rem 2rem;
    }

    // Section heading
    h2.block-title {
      text-align: center;
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: #1a5490;
      position: relative;
      padding-bottom: 1rem;

      @media (width >= 768px) {
        font-size: 2rem;
        margin-bottom: 2.5rem;
      }

      // Decorative underline
      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, #1a5490 0%, #d4af37 100%);
        border-radius: 2px;
      }
    }

    // Products grid is already styled in _publication-product.scss
    // This ensures proper spacing within the section
    .view-products {
      max-width: 1400px;
      margin: 0 auto;
    }
  }

  // ---------------------------------------------------------------------------
  // Section 3: SAHO Champion CTA (Two Columns)
  // ---------------------------------------------------------------------------
  .layout.layout--twocol-section {
    background: #f8f9fa;
    padding: 3rem 1rem;
    margin: 3rem 0;

    @media (width >= 768px) {
      padding: 4rem 1.5rem;
      margin: 4rem 0;
    }

    @media (width >= 1200px) {
      padding: 5rem 2rem;
    }

    // CTA block styling
    .block-inline-blockcta {
      max-width: 600px;

      // Heading with gold accent
      h2,
      .field--name-field-heading {
        color: #d4af37;
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.3;

        @media (width >= 768px) {
          font-size: 1.75rem;
        }

        @media (width >= 1200px) {
          font-size: 2rem;
        }
      }

      // Description
      .field--name-field-description {
        font-size: 1rem;
        line-height: 1.6;
        color: #333;
        margin-bottom: 1.5rem;

        @media (width >= 768px) {
          font-size: 1.125rem;
        }

        p {
          margin-bottom: 1rem;

          &:last-child {
            margin-bottom: 0;
          }
        }
      }

      // CTA Button
      .field--name-field-link {
        margin-top: 1.5rem;

        a {
          display: inline-block;
          background: #d4af37;
          color: #000;
          padding: 0.875rem 2rem;
          border-radius: 0.375rem;
          text-decoration: none;
          font-weight: 600;
          font-size: 1rem;
          transition: all 0.3s ease;
          box-shadow: 0 2px 4px rgb(0 0 0 / 10%);
          min-height: 44px;
          line-height: 1.5;

          @media (width >= 768px) {
            padding: 1rem 2.5rem;
            font-size: 1.125rem;
          }

          &:hover {
            background: #c49f30;
            box-shadow: 0 4px 8px rgb(0 0 0 / 15%);
            transform: translateY(-2px);
          }

          &:focus {
            outline: 2px solid #1a5490;
            outline-offset: 2px;
          }

          &:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgb(0 0 0 / 10%);
          }
        }
      }
    }

    // Second column (currently empty, can be used for benefits list)
    .layout__region--second {
      display: none;

      @media (width >= 768px) {
        display: block;
        padding-left: 2rem;
      }

      // Optional: Add benefits list styling if content is added
      ul {
        list-style: none;
        padding: 0;

        li {
          padding-left: 1.5rem;
          margin-bottom: 0.75rem;
          position: relative;

          &::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
            font-size: 1.125rem;
          }
        }
      }
    }
  }

  // ---------------------------------------------------------------------------
  // Section 4: Shop by Category
  // ---------------------------------------------------------------------------
  > .layout.layout--onecol:last-child {
    padding: 2rem 1rem 4rem;
    background: #fff;

    @media (width >= 768px) {
      padding: 3rem 1.5rem 5rem;
    }

    @media (width >= 1200px) {
      padding: 4rem 2rem 6rem;
    }

    // Section heading
    h2.block-title {
      text-align: center;
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: #1a5490;
      position: relative;
      padding-bottom: 1rem;

      @media (width >= 768px) {
        font-size: 2rem;
        margin-bottom: 2.5rem;
      }

      // Decorative underline
      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, #1a5490 0%, #d4af37 100%);
        border-radius: 2px;
      }
    }

    // Category grid - Modern flex/grid layout
    .view-product-category,
    .view-category,
    .block-views-blockproduct-category-hot-categories-block {
      max-width: 1200px;
      margin: 0 auto;

      // Remove default list styling
      ul,
      ol {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      // Force grid layout on view content
      .view-content,
      .view-content > ul,
      .view-content > ol,
      .view-content > div {
        display: grid !important;
        gap: 1rem;
        grid-template-columns: 1fr;

        @media (width >= 576px) {
          grid-template-columns: repeat(2, 1fr);
          gap: 1.25rem;
        }

        @media (width >= 992px) {
          grid-template-columns: repeat(4, 1fr);
          gap: 1.5rem;
        }
      }

      // Category item (both .views-row and li)
      .views-row,
      li {
        background: #fff;
        border: 2px solid #e9ecef;
        border-radius: 0.75rem;
        padding: 2rem 1.5rem;
        text-align: center;
        transition: all 0.3s ease;
        min-height: 140px;
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;

        // Subtle gradient background
        &::before {
          content: '';
          position: absolute;
          inset: 0;
          background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          z-index: 0;
        }

        &:hover {
          border-color: #1a5490;
          box-shadow: 0 8px 24px rgb(26 84 144 / 12%);
          transform: translateY(-6px);

          &::before {
            opacity: 1;
          }

          a {
            color: #1a5490;
          }
        }

        // Content wrapper
        > * {
          position: relative;
          z-index: 1;
        }

        a {
          text-decoration: none;
          color: #333;
          font-weight: 600;
          font-size: 1.125rem;
          display: block;
          transition: color 0.3s ease;

          @media (width >= 768px) {
            font-size: 1.25rem;
          }

          &:hover {
            color: #1a5490;
          }
        }

        // Category name field
        .views-field-name,
        .field--name-name {
          font-weight: 600;
          font-size: 1.125rem;
          margin: 0;

          @media (width >= 768px) {
            font-size: 1.25rem;
          }
        }

        // If category has description
        .views-field-description,
        .field--name-description {
          font-size: 0.875rem;
          color: #6c757d;
          margin-top: 0.5rem;
          line-height: 1.4;
        }

        // If category has icon/image
        .views-field-field-icon,
        .views-field-field-image,
        .field--name-field-icon,
        .field--name-field-image {
          margin-bottom: 1rem;

          img {
            max-width: 56px;
            height: auto;
            opacity: 0.8;
            transition: opacity 0.3s ease;
          }
        }

        &:hover {
          .views-field-field-icon img,
          .views-field-field-image img {
            opacity: 1;
          }
        }
      }
    }

    // If categories are in a table (fallback)
    .view-product-category table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 1rem;

      tr {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;

        @media (width >= 576px) {
          grid-template-columns: repeat(2, 1fr);
        }

        @media (width >= 992px) {
          grid-template-columns: repeat(4, 1fr);
        }
      }

      td {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 0.5rem;
        padding: 1.5rem;
        text-align: center;

        &:hover {
          border-color: #1a5490;
          box-shadow: 0 4px 12px rgb(26 84 144 / 15%);
        }
      }
    }
  }
}

// =============================================================================
// Layout Builder Shared Styles
// =============================================================================

// General layout region spacing
.layout-builder__layout {
  .layout__region {
    // Ensure proper container width
    max-width: 1400px;
    margin-left: auto;
    margin-right: auto;
  }

  // Remove default margins from views blocks
  .block-views {
    margin-bottom: 0;
  }

  // Ensure block titles are styled consistently
  .block-title {
    font-family: inherit;
  }
}

// =============================================================================
// Accessibility Enhancements
// =============================================================================

// Skip to main content link (for screen readers)
.visually-hidden-focusable {
  &:focus {
    position: static;
    width: auto;
    height: auto;
    clip: auto;
  }
}

// Focus indicators
.layout-builder__layout {
  a:focus,
  button:focus {
    outline: 2px solid #1a5490;
    outline-offset: 2px;
  }
}

// =============================================================================
// Print Styles
// =============================================================================

@media print {
  .layout-builder__layout {
    // Hero section - reduce padding for print
    > .layout.layout--onecol:first-child {
      padding: 1rem;
      background: #fff;
      color: #000;

      &::before {
        display: none;
      }
    }

    // Hide CTA section in print
    .layout.layout--twocol-section {
      display: none;
    }

    // Simplify category grid for print
    .view-product-category .view-content {
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;

      .views-row {
        border: 1px solid #000;
        box-shadow: none;
      }
    }
  }
}

// =============================================================================
// Dark Mode Support (Optional, for future enhancement)
// =============================================================================

@media (prefers-color-scheme: dark) {
  // Uncomment to enable dark mode

  /*
  .layout-builder__layout {
    // Hero remains same (already dark)

    // Featured Products section
    .layout.layout--onecol:nth-child(2) {
      background: #1a1a1a;
      color: #e9ecef;

      h2.block-title {
        color: #4a9eff;
      }
    }

    // CTA section
    .layout.layout--twocol-section {
      background: #2a2a2a;

      .block-inline-blockcta {
        .field--name-field-description {
          color: #e9ecef;
        }
      }
    }

    // Categories section
    > .layout.layout--onecol:last-child {
      background: #1a1a1a;

      h2.block-title {
        color: #4a9eff;
      }

      .views-row {
        background: #2a2a2a;
        border-color: #404040;

        a {
          color: #e9ecef;

          &:hover {
            color: #4a9eff;
          }
        }
      }
    }
  }
  */
}
