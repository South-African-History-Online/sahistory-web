{#
  @file
  Unified SAHO header: logo, main menu, search, contribute
#}

<header class="saho-header navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm py-3">
  <div class="container-fluid d-flex align-items-center justify-content-between flex-wrap gap-3">

    {# Logo #}
    <a href="{{ path('<front>') }}" class="navbar-brand d-flex align-items-center gap-2 text-decoration-none">
      <img src="/themes/custom/saho/logo.svg" alt="South African History Online Logo" class="saho-logo-img">
    </a>

    {# Menu #}
    <nav class="navbar-nav d-none d-lg-flex gap-3">
      {{ drupal_menu('main') }}
    </nav>

    {# Search + Contribute + Mobile toggle #}
    <div class="d-flex align-items-center gap-3 ms-auto">
      <form action="/search" method="get" role="search" class="d-none d-lg-flex align-items-center">
        <input type="search" name="search_api_fulltext" placeholder="Search African history..." class="form-control form-control-sm w-auto" aria-label="Search">
        <button type="submit" class="btn btn-heritage btn-sm ms-2">Search</button>
      </form>
      <a href="/form/contribute" class="btn btn-contribute d-flex align-items-center gap-2">
        <span class="flip-icon">ðŸ”º</span> Contribute
      </a>
      <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#sahoMobileNav" aria-controls="sahoMobileNav">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</header>

{# Offcanvas mobile menu #}
<div class="offcanvas offcanvas-end" tabindex="-1" id="sahoMobileNav" aria-labelledby="sahoMobileNavLabel">
  <div class="offcanvas-header">
    <h5 id="sahoMobileNavLabel">Menu</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <form action="/search" method="get" class="mb-3">
      <input type="search" name="search_api_fulltext" class="form-control" placeholder="Search..." aria-label="Search">
    </form>
    {{ drupal_menu('main') }}
    <div class="mt-3">
      <a href="/form/contribute" class="btn btn-contribute w-100">Contribute</a>
    </div>
  </div>
</div>
