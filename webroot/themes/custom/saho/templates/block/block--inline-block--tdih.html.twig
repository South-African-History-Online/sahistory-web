{#
/**
 * @file
 * TDIH block template.
 *
 * This template renders a "Today in History" block with an optional image,
 * title link, and date. If no matching nodes are found, it displays a
 * fallback message. A "View more events" button links to /this-day-in-history.
 */
#}

<div class="block-section">
  <h2>This day in history</h2>
  <p class="intro-text">Find out who was born, who died and other significant events from this day in history</p>

  {% if tdih_nodes %}
    {% for item in tdih_nodes %}
      {% if item.image %}
        <img src="{{ item.image }}" alt="{{ item.title|striptags }}" class="block-image" />
      {% endif %}

      <div class="block-label">
        {{ item.event_date|date('j F Y') }}
      </div>

      <h3>
        <a href="{{ item.url }}">{{ item.title }}</a>
      </h3>
    {% endfor %}
  {% else %}
    <p class="block-main-text">No events found.</p>
  {% endif %}

  <a href="/this-day-in-history" class="block-button">More events</a>
</div>
