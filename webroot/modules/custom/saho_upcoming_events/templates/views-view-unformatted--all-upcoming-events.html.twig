{#
/**
 * @file
 * Theme override for unformatted view rows for all upcoming events.
 * Creates modern event card display.
 */
#}

<!-- DEBUG: Unformatted template loading -->
{% for row in rows %}
  {% set node = view.result[loop.index0]._entity %}
  <div class="debug-event-card" style="background: white !important; border-radius: 12px !important; box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important; padding: 0 !important; overflow: hidden !important; transition: transform 0.3s ease !important;">
    
    {# Event Image #}
    {% if row.content['field_upcomingevent_image'] %}
      <div style="height: 200px !important; overflow: hidden !important; background: #f0f0f0 !important;">
        <div style="width: 100% !important; height: 100% !important;">
          {{ row.content['field_upcomingevent_image'] }}
        </div>
      </div>
    {% endif %}

    <div style="padding: 1.5rem !important;">
      {# Event Title with Link #}
      <h2 style="font-size: 1.3rem !important; font-weight: 700 !important; color: #2c3e50 !important; margin: 0 0 1rem !important; line-height: 1.3 !important;">
        <a href="{{ node.toUrl().toString() }}" style="color: inherit !important; text-decoration: none !important;">
          {{ node.title.value }}
        </a>
      </h2>
      
      {# Event Meta Information #}
      <div style="margin-bottom: 1rem !important;">
        {# Start Date #}
        {% if node.field_start_date.value %}
          <div style="background: linear-gradient(135deg, #e74c3c, #c0392b) !important; color: white !important; padding: 0.5rem 0.75rem !important; border-radius: 6px !important; font-size: 0.85rem !important; font-weight: 600 !important; display: inline-block !important; margin-bottom: 0.5rem !important;">
            üìÖ {{ node.field_start_date.value|date('j F Y') }}
          </div>
        {% endif %}
        
        {# Venue #}
        {% if node.field_upcoming_venue.value %}
          <div style="color: #6c757d !important; font-size: 0.9rem !important; margin-bottom: 0.5rem !important;">
            üìç {{ node.field_upcoming_venue.value|striptags }}
          </div>
        {% endif %}
      </div>

      {# Event Description #}
      {% if node.body.value %}
        <div style="color: #5a6c7d !important; font-size: 0.9rem !important; line-height: 1.5 !important; margin-bottom: 1.5rem !important;">
          {{ node.body.value|striptags|slice(0, 200) }}
          {% if node.body.value|striptags|length > 200 %}...{% endif %}
        </div>
      {% endif %}

      {# Call to Action Button #}
      <div style="text-align: center !important;">
        <a href="{{ node.toUrl().toString() }}" style="display: inline-flex !important; align-items: center !important; gap: 0.5rem !important; background: linear-gradient(135deg, #e74c3c, #c0392b) !important; color: white !important; padding: 0.75rem 1.5rem !important; border-radius: 8px !important; text-decoration: none !important; font-weight: 600 !important; font-size: 0.9rem !important; transition: all 0.3s ease !important;">
          Learn More
          <span style="transition: transform 0.3s ease !important;">‚Üí</span>
        </a>
      </div>
    </div>

  </div>
{% endfor %}
